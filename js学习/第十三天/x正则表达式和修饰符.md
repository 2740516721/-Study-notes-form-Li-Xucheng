链接：[JavaScript 正则表达式 | 菜鸟教程 (runoob.com)](https://www.runoob.com/js/js-regexp.html)

链接：[(44条消息) JS正则表达式语法大全（非常详细）_IT 哈的博客-CSDN博客_js中正则表达式语法](https://blog.csdn.net/qq_31967569/article/details/104347009)

### 什么是正则表达式？

正则表达式是由一个字符序列形成的搜索模式。

当你在文本中搜索数据时，你可以用搜索模式来描述你要查询的内容。

正则表达式可以是一个简单的字符，或一个更复杂的模式。

正则表达式可用于所有文本搜索和文本替换的操作。



### 语法

```
/正则表达式主体/修饰符(可选)
```

正则表达式包含在 两条斜杠（/）之间。

其中修饰符是可选的。



#### 正则表达式修饰符

**修饰符** 可以在全局搜索中不区分大小写:

| 修饰符 | 描述                                                     |
| :----- | :------------------------------------------------------- |
| i      | 执行对大小写不敏感的匹配。                               |
| g      | 执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。 |
| m      | 执行多行匹配。                                           |



#### 正则表达式模式

方括号用于查找某个范围内的字符，加一个^反义字符号表示查找方括号之外的内容。

| 表达式 | 描述                       |
| :----- | :------------------------- |
| [abc]  | 查找方括号之间的任何字符。 |
| [0-9]  | 查找任何从 0 至 9 的数字。 |
| (x\|y) | 查找任何以 \| 分隔的选项。 |



正则表达式其他符号的意思：

| ^    | 反义字符号，表示选择除了所列出之外的所有可选值   | /[^0-9]/            | 表示选取0-9之外的值 |
| ---- | ------------------------------------------------ | ------------------- | ------------------- |
| \|   | 逻辑与运算，表示在两个子模式的匹配结果中任选一个 | var r = /\w+\|\d+/; | 匹配任意数字或字母  |
|      |                                                  |                     |                     |
|      |                                                  |                     |                     |
|      |                                                  |                     |                     |
|      |                                                  |                     |                     |



元字符是拥有特殊含义的字符：

| 元字符 | 描述                                   |
| :----- | :------------------------------------- |
| .      | 查找单个字符，除了换行和行结束符       |
| \w     | 查找单词字符                           |
| \W     | 查找非单词字符                         |
| \d     | 查找数字                               |
| \D     | 查找非数字字符                         |
| \s     | 查找空白字符                           |
| \S     | 查找非空白字符                         |
| \b     | 匹配单词边界                           |
| \B     | 匹配非单词边界                         |
| \0     | 查找 NUL字符                           |
| \n     | 查找换行符                             |
| \f     | 查找换页符                             |
| \r     | 查找回车符                             |
| \t     | 查找制表符                             |
| \v     | 查找垂直制表符                         |
| \xxx   | 查找以八进制数 xxxx 规定的字符         |
| \xdd   | 查找以十六进制数 dd 规定的字符         |
| \uxxxx | 查找以十六进制 xxxx规定的 Unicode 字符 |



量词：

| 量词   | 描述                                          |
| :----- | :-------------------------------------------- |
| n+     | 匹配任何包含至少一个 n 的字符串               |
| n*     | 匹配任何包含零个或多个 n 的字符串             |
| n?     | 匹配任何包含零个或一个 n 的字符串             |
| n{x}   | 匹配包含 x 个 n 的序列的字符串                |
| n{x,y} | 匹配包含最少 x 个、最多 y 个 n 的序列的字符串 |
| n{x,}  | 匹配包含至少 x 个 n 的序列的字符串            |



### 惰性匹配

重复类量词都具有贪婪性，在条件允许的前提下，会匹配尽可能多的字符。

- ?、{n} 和 {n,m} 重复类具有弱贪婪性，表现为贪婪的有限性。
- *、+ 和 {n,} 重复类具有强贪婪性，表现为贪婪的无限性。

越是排在左侧的重复类量词匹配优先级越高。



针对 6 种重复类惰性匹配的简单描述如下：

- {n,m}?：尽量匹配 n 次，但是为了满足限定条件也可能最多重复 m 次。
- {n}?：尽量匹配 n 次。
- {n,}?：尽量匹配 n 次，但是为了满足限定条件也可能匹配任意次。
- ??：尽量匹配，但是为了满足限定条件也可能最多匹配 1 次，相当于 {0,1}?。
- +?：尽量匹配 1 次，但是为了满足限定条件也可能匹配任意次，相当于 {1,}?。
- *? ：尽量不匹配，但是为了满足限定条件也可能匹配任意次，相当于 {0,}?。



### 边界量词

边界就是确定匹配模式的位置，如字符串的头部或尾部，具体说明如表所示。

| 量词 | 说明                                     |
| :--- | :--------------------------------------- |
| ^    | 匹配开头，在多行检测中，会匹配一行的开头 |
| $    | 匹配结尾，在多行检测中，会匹配一行的结尾 |

### 使用 RegExp 对象

在 JavaScript 中，RegExp 对象是一个预定义了属性和方法的正则表达式对象。



### 使用 test()

test() 方法是一个正则表达式方法。

test() 方法用于检测一个字符串是否匹配某个模式，如果字符串中含有匹配的文本，则返回 true，否则返回 false。

以下实例用于搜索字符串中的字符 "e"：

```
var patt = /e/;
patt.test("The best things in life are free!");//返回true

另一种写法：
/e/.test("The best things in life are free!")//返回true
```



### 使用 exec()

exec() 方法是一个正则表达式方法。

exec() 方法用于检索字符串中的正则表达式的匹配。

该函数返回一个数组，其中存放匹配的结果。如果未找到匹配，则返回值为 null。

以下实例用于搜索字符串中的字母 "e":

```
/e/.exec("The best things in life are free!");//返回 e
```





### 笔记：

```html
/*是否带有小数*/
function    isDecimal(strValue )  {  
   var  objRegExp= /^\d+\.\d+$/;
   return  objRegExp.test(strValue);  
}  

/*校验是否中文名称组成 */
function ischina(str) {
    var reg=/^[\u4E00-\u9FA5]{2,4}$/;   /*定义验证表达式*/
    return reg.test(str);     /*进行验证*/
}

/*校验是否全由8位数字组成 */
function isStudentNo(str) {
    var reg=/^[0-9]{8}$/;   /*定义验证表达式*/
    return reg.test(str);     /*进行验证*/
}

/*校验电话码格式 */
function isTelCode(str) {
    var reg= /^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/;
    return reg.test(str);
}

/*校验邮件地址是否合法 */
function IsEmail(str) {
    var reg=/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;
    return reg.test(str);
}
```



```html
/**
 * [reg 百度网盘链接匹配]
 * 说明：匹配支持百度分享的两种链接格式
 * 格式一：链接: https://pan.baidu.com/s/15gzY8h3SEzVCfGV1xfkJsQ 提取码: vsuw 复制这段内容后打开百度网盘手机App，操作更方便哦
 * 格式二：http://pan.baidu.com/share/link?shareid=179436&uk=3272055266 提取码: vsuw 复制这段内容后打开百度网盘手机App，操作更方便哦
 * 匹配出下载地址和提取码，并且还支持如果没有提取码，也能匹配出下载链接。
 * @type {正则表达式}
 * @return array 返回匹配成功的链接和地址
 */

function baiduDownLinkArr( string ){
  var reg = /([http|https]*?:\/\/pan\.baidu\.com\/[(?:s\/){0,1}|(share)]*(?:[0-9a-zA-Z?=&])+)(?:.+:(?:\s)*)?([a-zA-Z]{4})?/;
  console.log(reg.exec(string));
}
```



```html
正则捕获，转换时间格式：

const str = '20210426141823';
const s = str.replace(/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/, (_, ...args) => {
  const [year, month, day, h, d, s] = args;
  return `${year}年${month}月${day} ${h}时${d}分${s}秒`
});

console.log(s);
// 2021年04月26 14时18分23秒
```

