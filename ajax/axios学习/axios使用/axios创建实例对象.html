<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <script>
        //创建axios实例对象
        const duanji = axios.create({
            //设置基础设置
            baseURL: 'http://wthrcdn.etouch.cn',
            //timeout是响应的时间限制，单位为毫秒。
            //以下意思为如果超过2秒还没有响应那么请求将被停止
            timeout: 2000

        });
        //第一种写法
        //这里 duanji 与 axios 对象的功能几近一样
        // duanji({
        //     method: 'GET',
        //     url: '/getJoke'
        // }).then(response=>{
        //     console.log(response.data);
        // }).catch(reject=>{
        //     console.log(reject);
        // })

        //第二种方法  axios.get(url[, config])
        duanji.get('/weather_mini?city=钦州',{timeout: 2000}).then(response=>{
            console.log(response.data);
        }).catch(reject=>{
            console.log(reject);
        })


        // 为什么要创建axios实例对象呢？
        //     因为有时候一个项目要用到两个或以上的api接口，如果仅仅使用默认的axios对象的话，那么就只能接入一个api接口
    </script>
</body>
</html>